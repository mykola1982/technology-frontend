"use strict";(self.webpackChunktechnology=self.webpackChunktechnology||[]).push([[822],{7234:function(n,e,r){r.d(e,{y:function(){return o}});var t=r(2791),c=r(890),i=r(8870),a=r(6151),s=r(184),o=function(n){var e=n.onDelete,r=n.onClose,o=n.title,u=(0,t.useRef)();return(0,t.useEffect)((function(){u.current.focus({focusVisible:!0})}),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{variant:"h6",component:"p",align:"center",sx:{mb:2},children:o}),(0,s.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-evenly"},children:[(0,s.jsx)(a.Z,{variant:"contained",size:"small",onClick:function(){return e()},children:"\u0422\u0430\u043a"}),(0,s.jsx)(a.Z,{ref:u,variant:"contained",size:"small",onClick:function(){return r()},children:"Hi"})]})]})}},8463:function(n,e,r){r.d(e,{c:function(){return a}});var t=r(7004),c=r(8870),i=r(184),a=function(n){var e=n.open,r=n.onClose,a=n.children;return(0,i.jsx)(t.Z,{open:e,onClose:r,disableRestoreFocus:!0,children:(0,i.jsx)(c.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"460px",bgcolor:"#fff",borderRadius:2,boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.12), 0px 1px 1px rgba(0, 0, 0, 0.14),  0px 2px 1px rgba(0, 0, 0, 0.2)",p:4},children:a})})}},7044:function(n,e,r){r.d(e,{p:function(){return i}});var t=r(9164),c=r(184),i=function(n){var e=n.children;return(0,c.jsx)(t.Z,{maxWidth:"xl",sx:{display:"flex",gap:2,height:"100vh"},children:e})}},5822:function(n,e,r){r.r(e),r.d(e,{default:function(){return L}});var t=r(1413),c=r(4165),i=r(5861),a=r(9439),s=r(2791),o=r(5206),u=r(7689),l=r(8870),d=r(7178),f=r(7044),p=r(3433),x=r(1087),h=r(9281),m=r(5527),Z=r(9836),v=r(6890),j=r(5855),g=r(8745),b=r(3382),w=r(890),y=r(3400),k=r(4454),C=r(8014),z=r(383),A=r(5984),D=r(8832),F=r(4717),S=r(184),P=function(n){var e=n.orders,r=n.location,t=n.openModal,c=n.updateToDeleteOrder,i=(0,F.a)().user,a=e.reduce((function(n,e){return[e].concat((0,p.Z)(n))}),[]);return(0,S.jsx)(h.Z,{component:m.Z,children:(0,S.jsxs)(Z.Z,{size:"small",children:[(0,S.jsx)(v.Z,{children:(0,S.jsxs)(j.Z,{sx:{position:"sticky",top:0,zIndex:1,background:"#fff"},children:[(0,S.jsx)(g.Z,{align:"center",children:" \u2116 \u043f.\u043f "}),(0,S.jsx)(g.Z,{align:"center",children:" \u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447, \u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 "}),(0,S.jsx)(g.Z,{align:"center",children:"\u041d\u0430\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u0442\u0430 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u0432 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u0456"}),(0,S.jsx)(g.Z,{align:"center",children:"\u0421\u043e\u0440\u0442\u0430\u043c\u0435\u043d\u0442 \u0442\u0430 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e\u0433\u043e \u043c\u0435\u0442\u0430\u043b\u0443 \u0434\u043b\u044f \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,S.jsx)(g.Z,{align:"center",children:"\u0414\u0440\u0443\u043a\u0443\u0432\u0430\u0442\u0438"}),(0,S.jsx)(g.Z,{align:"center",children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"}),(0,S.jsx)(g.Z,{align:"center",children:"\u041d\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"})]})}),(0,S.jsx)(b.Z,{children:a.map((function(n,e){var a=n._id,s=n.user,o=n.createdAt,u=n.products,d=n.materials,f=n.toRemove;return(0,S.jsxs)(j.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,S.jsx)(g.Z,{align:"center",children:e+1}),(0,S.jsx)(g.Z,{aling:"center",children:(0,S.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",gap:"4px"},children:[(0,S.jsx)(w.Z,{variant:"p",sx:{fontWeight:500},children:s}),(0,S.jsx)(w.Z,{variant:"p",children:(0,D.p6)(o)}),(0,S.jsx)(w.Z,{variant:"p",children:(0,D.mr)(o)})]})}),(0,S.jsx)(g.Z,{aling:"center",sx:{verticalAlign:"top"},children:u.map((function(n,e){var r=n.name,t=n.number,c=n.reserved;return(0,S.jsxs)(l.Z,{sx:{mb:1},children:[(0,S.jsxs)(w.Z,{variant:"p",children:[e+1,". ",r," ",t," "]}),(0,S.jsxs)(w.Z,{variant:"p",sx:{fontWeight:500},children:["- ",c," \u0448\u0442."]})]},(0,A.x0)())}))}),(0,S.jsx)(g.Z,{aling:"center",sx:{verticalAlign:"top"},children:(0,S.jsxs)(S.Fragment,{children:[d.map((function(n,e){var r=n.type,t=n.brand,c=n.amount,i=n.weight;return(0,S.jsx)(l.Z,{sx:{mb:1},children:(0,S.jsxs)(w.Z,{variant:"p",children:[e+1,".","sheet"===r&&(0,S.jsxs)(S.Fragment,{children:[" ",(0,S.jsxs)(w.Z,{component:"span",children:[" ","\u041b\u0438\u0441\u0442 ",t," ",n.sheetParameters.thickness.toFixed(1),"x",n.sheetParameters.length,"x",n.sheetParameters.width]})," ",(0,S.jsxs)(w.Z,{component:"span",sx:{fontWeight:500},children:["(",i," \u043a\u0433.)"]})," ",(0,S.jsxs)(w.Z,{component:"span",sx:{fontWeight:500},children:["- ",c.toFixed(3)," \u043b\u0438\u0441\u0442\u0456\u0432"]})]}),"rod"===r&&(0,S.jsxs)(S.Fragment,{children:[" ",(0,S.jsxs)(w.Z,{component:"span",children:[" ","\u041a\u0440\u0443\u0433 ",t," ",n.rodParameters.diameter.toFixed(1)]})," ",(0,S.jsxs)(w.Z,{component:"span",sx:{fontWeight:500},children:["(",i," \u043a\u0433.)"]})," ",(0,S.jsxs)(w.Z,{component:"span",sx:{fontWeight:500},children:["- ",c.toFixed(3)," \u043c.\u043f."]})]})]})},(0,A.x0)())})),(0,S.jsxs)(w.Z,{variant:"p",sx:{fontWeight:700,ml:2},children:["\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0433\u0430: ",(0,D.zq)(d)," \u043a\u0433"]})]})}),(0,S.jsx)(g.Z,{align:"center",children:(0,S.jsx)(y.Z,{component:x.rU,to:"/orders/".concat(a),state:{from:r},sx:{color:"#1976d2"},"aria-label":"print order",size:"medium",children:(0,S.jsx)(C.Z,{fontSize:"medium"})})}),(0,S.jsx)(g.Z,{align:"center",children:(0,S.jsx)(y.Z,{sx:{color:"#1976d2"},"aria-label":"delete order",size:"medium",onClick:function(){return t(a)},disabled:"ADMIN"!==i.role,children:(0,S.jsx)(z.Z,{fontSize:"medium"})})}),(0,S.jsx)(g.Z,{align:"center",children:(0,S.jsx)(k.Z,{inputProps:{"aria-label":"Checkbox demo"},checked:f,onChange:function(){c(a)},sx:{color:"#1976d2","&.Mui-checked":{color:"#DC143C"}}})})]},a)}))})]})})},R=r(8463),W=r(7234),_=r(2881),L=function(){var n=(0,s.useState)([]),e=(0,a.Z)(n,2),r=e[0],p=e[1],x=(0,s.useState)(!1),h=(0,a.Z)(x,2),m=h[0],Z=h[1],v=(0,s.useState)(!1),j=(0,a.Z)(v,2),g=j[0],b=j[1],w=(0,s.useState)(null),y=(0,a.Z)(w,2),k=y[0],C=y[1],z=(0,u.TH)();(0,s.useEffect)((function(){function n(){return(n=(0,i.Z)((0,c.Z)().mark((function n(){var e,r;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,Z(!0),n.next=4,d.zN();case 4:e=n.sent,r=e.data,p(r),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),o.Am.error("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u0421\u043f\u0440\u043e\u0431\u0443\u0439 \u0437\u043d\u043e\u0432\u0443...");case 12:return n.prev=12,Z(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]);var A=function(){b(!1)},D=function(){var n=(0,i.Z)((0,c.Z)().mark((function n(e){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,Z(!0),n.next=4,d.cV(e);case 4:p((function(n){return n.filter((function(n){return n._id!==e}))})),o.Am.success("\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0435"),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),o.Am.error("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u0421\u043f\u0440\u043e\u0431\u0443\u0439 \u0437\u043d\u043e\u0432\u0443..."),Z(!1);case 12:return n.prev=12,Z(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,8,12,15]])})));return function(e){return n.apply(this,arguments)}}(),F=function(){var n=(0,i.Z)((0,c.Z)().mark((function n(){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D(k);case 2:C(null),A();case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),L=function(){var n=(0,i.Z)((0,c.Z)().mark((function n(e){var r,i;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.Lw(e);case 3:r=n.sent,i=r.data,p((function(n){return n.map((function(n){return n._id===e?(0,t.Z)((0,t.Z)({},n),{},{toRemove:!n.toRemove}):n}))})),i.toRemove?o.Am.success('\u0414\u043e\u0434\u0430\u043d\u043e \u0434\u043e \u0441\u043f\u0438\u0441\u043a\u0443 "\u041d\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"'):o.Am.success('\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043e \u0437\u0456 \u0441\u043f\u0438\u0441\u043a\u0443 "\u041d\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"'),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),o.Am.error("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u0421\u043f\u0440\u043e\u0431\u0443\u0439 \u0437\u043d\u043e\u0432\u0443...");case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}();return(0,S.jsxs)(S.Fragment,{children:[m&&(0,S.jsx)(_.a,{}),(0,S.jsx)(f.p,{children:(0,S.jsx)(l.Z,{sx:{width:"100%",borderRadius:4,display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",mt:10,mb:6,p:1,backgroundColor:"#f5f5f5",boxShadow:"0 0 8px 0 rgba(0,0,0,.3)"},children:(0,S.jsx)(P,{orders:r,location:z,openModal:function(n){b(!0),C(n)},updateToDeleteOrder:L})})}),(0,S.jsx)(R.c,{open:g,onClose:A,children:(0,S.jsx)(W.y,{title:"\u0411\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f?",onDelete:F,onClose:A})})]})}},7178:function(n,e,r){r.d(e,{H:function(){return s},Lw:function(){return l},X6:function(){return o},cV:function(){return u},zN:function(){return a}});var t=r(4165),c=r(5861),i=r(1243);i.Z.defaults.baseURL="https://technology-backend.onrender.com/api";var a=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(){var e,r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("/orders");case 2:return e=n.sent,r=e.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(e){var r,c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("/orders/".concat(e));case 2:return r=n.sent,c=r.data,n.abrupt("return",c);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),o=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(e){var r,c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.post("/orders",e);case 2:return r=n.sent,c=r.data,n.abrupt("return",c);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),u=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(e){var r,c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.delete("/orders/".concat(e));case 2:return r=n.sent,c=r.data,n.abrupt("return",c);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(e){var r,c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.patch("/orders/".concat(e));case 2:return r=n.sent,c=r.data,n.abrupt("return",c);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},838:function(n,e,r){function t(n){return new Date(n).toLocaleDateString("uk-UA")}r.d(e,{p:function(){return t}})},2654:function(n,e,r){function t(n){return new Date(n).toLocaleTimeString("uk-UA",{hours:!1})}r.d(e,{m:function(){return t}})},8832:function(n,e,r){r.d(e,{p6:function(){return i.p},mr:function(){return a.m},ei:function(){return c},zq:function(){return u},Gx:function(){return o},m7:function(){return s}});var t=r(1413);function c(n){var e=function(n){return n.map((function(n){return n.material})).reduce((function(n,e){return n.some((function(n){return n._id===e._id}))||n.push((0,t.Z)({},e)),n}),[])}(n);return e.map((function(e){var r,c=null;return"sheet"===e.type&&(c=n.reduce((function(n,r){return e._id===r.material._id&&(n+=1/r.quantity*r.reserved),n}),0)),"rod"===e.type&&(c=n.reduce((function(n,r){return e._id===r.material._id&&(n+=6/r.quantity*r.reserved),n}),0)),(0,t.Z)((0,t.Z)({},e),{},{amount:null===(r=c)||void 0===r?void 0:r.toFixed(3)})}))}r(8055),r(4412);var i=r(838),a=r(2654);function s(n){return n.map((function(n){return{name:n.name,number:n.number,reserved:n.reserved}}))}function o(n){return n.map((function(n){var e=n.brand,r=n.type,t=n.weight,c=n.amount,i=n.sheetParameters,a=n.rodParameters,s=null;return"sheet"===r&&(s={brand:e,type:r,sheetParameters:i,weight:t,amount:c}),"rod"===r&&(s={brand:e,type:r,rodParameters:a,weight:t,amount:c}),s}))}var u=function(n){return n.reduce((function(n,e){return n+=e.amount*e.weight}),0)}}}]);
//# sourceMappingURL=822.9f7e2625.chunk.js.map