"use strict";(self.webpackChunktechnology=self.webpackChunktechnology||[]).push([[50],{698:function(e,r,n){n.d(r,{o:function(){return k}});var t=n(9434),a=n(5984),o=n(6727),i=n(5705),s=n(8096),u=n(4994),c=n(7133),l=n(765),d=n(4989),h=n(1419),p=n(7071),x=n(9891),f=n(890),m=n(6151),v=n(3433);var Z="\u0434\u0456\u043b\u044c\u043d\u0438\u0446\u044f \u0437 \u0427\u041f\u0423",g="\u0448\u0442\u0430\u043c\u043f\u0443\u0432\u0430\u043b\u044c\u043d\u0430 \u0434\u0456\u043b\u044c\u043d\u0438\u0446\u044f",b=n(9920),w=n(184),j=o.Ry().shape({name:o.Z_().required("\u0426\u0435 \u043f\u043e\u043b\u0435 \u0454 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0438\u043c"),number:o.Z_().required("\u0426\u0435 \u043f\u043e\u043b\u0435 \u0454 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0438\u043c"),weight:o.Rx().required("\u0426\u0435 \u043f\u043e\u043b\u0435 \u0454 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0438\u043c").min(.001,"\u0412\u0430\u0433\u0430 \u0434\u0435\u0442\u0430\u043b\u0456 \u043f\u043e\u0432\u0438\u043d\u043d\u0430 \u0431\u0443\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 0.001 \u043a\u0433"),quantity:o.Rx().required("\u0426\u0435 \u043f\u043e\u043b\u0435 \u0454 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0438\u043c").min(1,"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u0437 \u043b\u0438\u0441\u0442\u0430 \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u0431\u0443\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 1 \u0448\u0442."),workshop:o.Z_().required("\u0426\u0435 \u043f\u043e\u043b\u0435 \u0454 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0438\u043c"),material:o.Z_().required("\u0426\u0435 \u043f\u043e\u043b\u0435 \u0454 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0438\u043c")}),y={name:"",number:"",weight:"",quantity:"",workshop:"",material:""},k=function(e){var r=e.onSubmit,n=e.onClose,o=e.productForUpdate,k=void 0===o?null:o;k?(y.name=k.name,y.number=k.number,y.weight=k.weight,y.quantity=k.quantity,y.workshop=k.workshop,k.material?y.material=k.material._id:y.material=""):(y.name="",y.number="",y.weight="",y.quantity="",y.workshop="",y.material="");var C,P=(0,t.v9)(b.$7),S=(C=P,(0,v.Z)(C).sort((function(e,r){var n=r.type.localeCompare(e.type);if(0!==n)return n;if("sheet"===e.type&&"sheet"===r.type){var t=e.sheetParameters.thickness-r.sheetParameters.thickness;if(0!==t)return t;var a=e.sheetParameters.length-r.sheetParameters.length;if(0!==a)return a;var o=e.sheetParameters.width-r.sheetParameters.width;if(0!==o)return o}if("rod"===e.type&&"rod"===r.type){var i=e.rodParameters.diameter-r.rodParameters.diameter;if(0!==i)return i}return e.weight-r.weight}))),q=(0,i.TA)({initialValues:y,validationSchema:j,onSubmit:function(e,t){var a=t.resetForm;r(e).then((function(e){e||(n(),a())}))}});return(0,w.jsxs)(s.Z,{variant:"standard",component:"form",onSubmit:q.handleSubmit,sx:{display:"flex",gap:"12px",flexDirection:"column",width:"100%",padding:"8px"},children:[(0,w.jsx)(u.Z,{id:"name",type:"text",name:"name",label:"\u041d\u0430\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f",size:"small",value:q.values.name,onChange:q.handleChange,onBlur:q.handleBlur,error:q.touched.name&&Boolean(q.errors.name),helperText:q.touched.name&&q.errors.name}),(0,w.jsx)(u.Z,{id:"number",type:"text",name:"number",label:"\u0414\u0435\u0446\u0438\u043c\u0430\u043b\u044c\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0434\u0435\u0446\u0438\u043c\u0430\u043b\u044c\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440",size:"small",value:q.values.number,onChange:q.handleChange,onBlur:q.handleBlur,error:q.touched.number&&Boolean(q.errors.number),helperText:q.touched.number&&q.errors.number}),(0,w.jsx)(u.Z,{id:"weight",type:"number",name:"weight",inputProps:{min:"0.001",step:"0.001"},label:"\u0412\u0430\u0433\u0430 \u0434\u0435\u0442\u0430\u043b\u0456, \u043a\u0433.",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0433\u0443 \u0434\u0435\u0442\u0430\u043b\u0456",size:"small",value:q.values.weight,onChange:q.handleChange,onBlur:q.handleBlur,error:q.touched.weight&&Boolean(q.errors.weight),helperText:q.touched.weight&&q.errors.weight}),(0,w.jsx)(u.Z,{id:"quantity",type:"number",name:"quantity",inputProps:{min:"1",step:"1"},label:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u0437 \u043b\u0438\u0441\u0442\u0430(\u0437 6 \u043c.\u043f), \u0448\u0442.",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u0437 \u043b\u0438\u0441\u0442\u0430(\u0437 6 \u043c.\u043f)",size:"small",value:q.values.quantity,onChange:q.handleChange,onBlur:q.handleBlur,error:q.touched.quantity&&Boolean(q.errors.quantity),helperText:q.touched.quantity&&q.errors.quantity}),(0,w.jsx)(c.Z,{id:"radio-workshop",sx:{color:q.touched.workshop&&Boolean(q.errors.workshop)?"#d32f2f":"inherit"},children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0432\u0438\u0440\u043e\u0431\u043d\u0438\u0447\u0443 \u0434\u0456\u043b\u044c\u043d\u0438\u0446\u044e:"}),(0,w.jsxs)(l.Z,{name:"workshop","aria-labelledby":"radio-workshop",value:q.values.workshop,onChange:q.handleChange,onBlur:q.handleBlur,sx:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",color:q.touched.workshop&&Boolean(q.errors.workshop)?"#d32f2f":"inherit"},children:[(0,w.jsx)(d.Z,{value:Z,control:(0,w.jsx)(h.Z,{size:"small"}),label:"\u0427\u041f\u0423"}),(0,w.jsx)(d.Z,{value:g,control:(0,w.jsx)(h.Z,{size:"small"}),label:"\u0428\u0442\u0430\u043c\u043f\u043e\u0432\u043a\u0430"})]}),q.touched.workshop&&Boolean(q.errors.workshop)&&(0,w.jsx)(p.Z,{sx:{margin:"4px 14px 0 14px",color:"#d32f2f"},children:q.touched.workshop&&q.errors.workshop}),(0,w.jsx)(u.Z,{select:!0,id:"material",size:"small",name:"material",value:q.values.material,label:"Ma\u0442\u0435\u0440\u0456\u0430\u043b",onChange:q.handleChange,onBlur:q.handleBlur,error:q.touched.material&&Boolean(q.errors.material),helperText:q.touched.material&&q.errors.material,children:S.map((function(e){return(0,w.jsxs)(x.Z,{value:e._id,children:["sheet"===e.type&&(0,w.jsxs)(f.Z,{component:"span",children:["\u041b\u0438\u0441\u0442 ",e.sheetParameters.thickness.toFixed(1),"x",e.sheetParameters.length,"x",e.sheetParameters.width,e.brand," (",e.weight," \u043a\u0433.)"]}),"rod"===e.type&&(0,w.jsxs)(f.Z,{component:"span",children:["\u041a\u0440\u0443\u0433 ",e.rodParameters.diameter," ",e.brand," (",e.weight," \u043a\u0433.)"]})]},(0,a.x0)())}))}),(0,w.jsx)(m.Z,{type:"submit",variant:"contained",size:"large",sx:{width:"300px",margin:"0 auto"},children:k?(0,w.jsx)("span",{children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0434\u0430\u043d\u0456"}):(0,w.jsx)("span",{children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0434\u0435\u0442\u0430\u043b\u044c "})})]})}},2331:function(e,r,n){n.d(r,{q:function(){return u}});var t=n(7004),a=n(8870),o=n(3400),i=n(9823),s=n(184),u=function(e){var r=e.open,n=e.children,u=e.onClose;return(0,s.jsx)(t.Z,{open:r,children:(0,s.jsxs)(a.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"100%",md:"500px"},maxWidth:"500px",bgcolor:"#fff",borderRadius:2,boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.12), 0px 1px 1px rgba(0, 0, 0, 0.14),  0px 2px 1px rgba(0, 0, 0, 0.2)",p:4},children:[(0,s.jsx)(o.Z,{"aria-label":"close",size:"medium",onClick:function(){return u()},sx:{position:"absolute",top:3,right:3},children:(0,s.jsx)(i.Z,{fontSize:"medium",sx:{color:"#1976d2"}})}),n]})})}},8463:function(e,r,n){n.d(r,{c:function(){return i}});var t=n(7004),a=n(8870),o=n(184),i=function(e){var r=e.open,n=e.onClose,i=e.children;return(0,o.jsx)(t.Z,{open:r,onClose:n,disableRestoreFocus:!0,children:(0,o.jsx)(a.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"460px",bgcolor:"#fff",borderRadius:2,boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.12), 0px 1px 1px rgba(0, 0, 0, 0.14),  0px 2px 1px rgba(0, 0, 0, 0.2)",p:4},children:i})})}},7044:function(e,r,n){n.d(r,{p:function(){return o}});var t=n(9164),a=n(184),o=function(e){var r=e.children;return(0,a.jsx)(t.Z,{maxWidth:"xl",sx:{display:"flex",gap:2,height:"100vh"},children:r})}},6050:function(e,r,n){n.r(r),n.d(r,{default:function(){return V}});var t=n(1413),a=n(3433),o=n(4165),i=n(5861),s=n(9439),u=n(2791),c=n(7689),l=n(5206),d=n(8870),h=n(6151),p=n(890),x=n(3239),f=n(3372),m=n(2002),v=n(7178),Z=n(1142),g=n(7044),b=n(698),w=n(4994),j=n(184),y=function(e){var r=e.value,n=e.onChange;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(w.Z,{id:"filled-search",label:"\u041f\u043e\u0448\u0443\u043a \u0434\u0435\u0442\u0430\u043b\u0456",type:"search",variant:"outlined",name:"filter",sx:{width:"300px"},value:r,onChange:n})})},k=n(1087),C=n(4852),P=n(3400),S=n(2419),q=function(e){var r=e.product,n=e.index,t=e.onSelectProduct,a=e.location,o=r._id,i=r.name,s=r.number;return(0,j.jsxs)(C.ZP,{sx:{justifyContent:"space-between",borderBottom:"1px solid",gap:8},children:[(0,j.jsxs)(d.Z,{to:"/products/".concat(o),state:{from:a},component:k.rU,sx:{display:"flex",alignItems:"center",textDecoration:"none",color:"inherit",maxWidth:"260px",flexGrow:"1"},children:[(0,j.jsxs)(p.Z,{variant:"body1",mr:1,children:[n+1,"."]}),(0,j.jsxs)(d.Z,{children:[(0,j.jsx)(p.Z,{variant:"body2",sx:{overflowWrap:"break-word"},children:i}),(0,j.jsx)(p.Z,{variant:"body2",sx:{overflowWrap:"break-word"},children:s})]})]}),(0,j.jsx)(P.Z,{"aria-label":"add to order list",size:"medium",onClick:function(){t(o)},children:(0,j.jsx)(S.Z,{fontSize:"medium",sx:{color:"#1976d2"}})})]})},z=n(493),B=function(e){var r=e.products,n=e.onDeleteProduct,t=e.onOpenModalOnUpdate,a=e.onSelectProduct,o=e.location;return(0,j.jsx)(z.Z,{sx:{width:"100%",maxWidth:360,position:"relative",overflow:"auto",maxHeight:"75vh","& ul":{padding:0}},children:r.map((function(e,r){return(0,j.jsx)(q,{index:r,product:e,onDeleteProduct:n,onOpenModalOnUpdate:t,onSelectProduct:a,location:o},e._id)}))})},_=n(9281),D=n(5527),F=n(9836),W=n(6890),A=n(5855),O=n(8745),T=n(3382),R=n(383),I=n(3614),L=function(e){var r=e.products,n=e.onDeleteProductFromOrder;return(0,j.jsx)(_.Z,{component:D.Z,children:(0,j.jsxs)(F.Z,{sx:{minWidth:650},size:"small",children:[(0,j.jsx)(W.Z,{children:(0,j.jsxs)(A.Z,{sx:{position:"sticky",top:0,zIndex:1,background:"#fff"},children:[(0,j.jsx)(O.Z,{align:"center",children:"\u2116 \u043f.\u043f."}),(0,j.jsx)(O.Z,{align:"center",children:"\u041d\u0430\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f"}),(0,j.jsx)(O.Z,{align:"center",children:"\u041a\u0456\u043b.(\u0448\u0442.)"}),(0,j.jsx)(O.Z,{align:"center",children:"\u041c\u0430\u0442\u0435\u0440\u0456\u0430\u043b"}),(0,j.jsx)(O.Z,{align:"center",children:"\u0412\u0430\u0433\u0430(\u043a\u0433.)"}),(0,j.jsx)(O.Z,{align:"center",children:"\u041d\u043e\u0440\u043c\u0430(\u043a\u0433.)"}),(0,j.jsx)(O.Z,{align:"center",children:"Ho\u0440\u043c\u0430(\u0432 \u0447\u0430\u0441\u0442. \u043b\u0438\u0441\u0442\u0430) "}),(0,j.jsx)(O.Z,{align:"center",children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]})}),(0,j.jsx)(T.Z,{children:r.map((function(e,r){var t=e._id,a=e.name,o=e.number,i=e.reserved,s=e.weight,u=e.quantity,c=e.material;return(0,j.jsxs)(A.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,j.jsx)(O.Z,{align:"center",children:r+1}),(0,j.jsx)(O.Z,{align:"left",children:(0,j.jsxs)(d.Z,{children:[(0,j.jsx)(p.Z,{variant:"body2",sx:{overflowWrap:"break-word"},children:a}),(0,j.jsx)(p.Z,{variant:"body2",sx:{overflowWrap:"break-word"},children:o})]})}),(0,j.jsx)(O.Z,{align:"center",children:i}),"sheet"===(null===c||void 0===c?void 0:c.type)&&(0,j.jsxs)(O.Z,{align:"center",children:["\u041b\u0438\u0441\u0442 ",c.sheetParameters.thickness,"x",c.sheetParameters.length,"x",c.sheetParameters.width," ",c.brand,(0,j.jsxs)(p.Z,{component:"span",sx:{fontWeight:700},children:[" ","(",c.weight," \u043a\u0433.)"]})]}),"rod"===(null===c||void 0===c?void 0:c.type)&&(0,j.jsxs)(O.Z,{align:"center",children:["\u041a\u0440\u0443\u0433 ",c.rodParameters.diameter," ",c.brand,(0,j.jsxs)(p.Z,{component:"span",sx:{fontWeight:700},children:[" ","(",c.weight," \u043a\u0433.)"]})]}),(0,j.jsx)(O.Z,{align:"center",children:s}),(0,j.jsx)(O.Z,{align:"center",children:(0,I.s)(c,u)}),(0,j.jsx)(O.Z,{align:"center",children:(1/e.quantity).toFixed(5)}),(0,j.jsx)(O.Z,{align:"center",children:(0,j.jsx)(P.Z,{"aria-label":"delete",size:"medium",sx:{color:"#1976d2"},onClick:function(){return n(t)},children:(0,j.jsx)(R.Z,{fontSize:"medium"})})})]},t)}))})]})})},U=n(2331),G=n(8096),H=function(e){var r=e.onSubmit,n=e.onClose,t=e.product;return(0,j.jsxs)(G.Z,{id:"quantityProduct",variant:"standard",component:"form",onSubmit:function(e){e.preventDefault();var a=e.currentTarget,o=a.elements.reserved.value;r(o,t),n(),a.reset()},sx:{display:"flex",gap:"12px",flexDirection:"column",width:"100%"},children:[(0,j.jsx)(p.Z,{variant:"h6",component:"p",align:"center",sx:{mb:2},children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0435\u0439"}),(0,j.jsx)(w.Z,{autoFocus:!0,type:"number",name:"reserved",variant:"outlined",label:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0435\u0439, \u0448\u0442.",inputProps:{min:"1"},defaultValue:"1"}),(0,j.jsx)(h.Z,{type:"submit",variant:"contained",size:"large",children:"OK"})]})},M=n(8463),N=n(4717),V=function(){var e=(0,u.useState)([]),r=(0,s.Z)(e,2),n=r[0],w=r[1],k=(0,u.useState)(""),C=(0,s.Z)(k,2),P=C[0],S=C[1],q=(0,u.useState)(!1),z=(0,s.Z)(q,2),_=z[0],D=z[1],F=(0,u.useState)((function(){var e=localStorage.getItem("selectedProducts");return null!==e&&""!==e?JSON.parse(e):[]})),W=(0,s.Z)(F,2),A=W[0],O=W[1],T=(0,u.useState)(null),R=(0,s.Z)(T,2),I=R[0],G=R[1],V=(0,u.useState)(!1),E=(0,s.Z)(V,2),J=E[0],X=E[1],$=(0,u.useState)(!1),K=(0,s.Z)($,2),Q=K[0],Y=K[1],ee=(0,c.TH)(),re=(0,c.s0)(),ne=(0,N.a)().user,te=function(){X(!1)},ae=function(){Y(!1)};(0,u.useEffect)((function(){function e(){return(e=(0,i.Z)((0,o.Z)().mark((function e(){var r,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(!0),e.next=4,m.C5();case 4:r=e.sent,n=r.data,w(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),l.Am.error("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u0421\u043f\u0440\u043e\u0431\u0443\u0439 \u0437\u043d\u043e\u0432\u0443...");case 12:return e.prev=12,D(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,u.useEffect)((function(){var e=A.map((function(e){return{_id:e._id,reserved:e.reserved}}));localStorage.setItem("selectedProducts",JSON.stringify(e))}),[A]);var oe=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(r){var n,t,i,s,u,c,d,h,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.name,t=r.number,i=r.weight,s=r.quantity,u=r.workshop,c=r.material,d={name:n,number:t,weight:i,quantity:s,workshop:u,material:c},e.prev=2,e.next=5,m.s2(d);case 5:h=e.sent,p=h.data,w((function(e){return[p].concat((0,a.Z)(e))})),l.Am.success("\u0414\u0435\u0442\u0430\u043b\u044c  ".concat(n,"-").concat(t," \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0434\u043e\u0434\u0430\u043d\u0430 \u0434\u043e \u0441\u043f\u0438\u0441\u043a\u0443")),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(2),409===e.t0.response.status?l.Am.error("\u0414\u0435\u0442\u0430\u043b\u044c \u0437 \u0434\u0435\u0446\u0438\u043c\u0430\u043b\u044c\u043d\u0438\u043c \u043d\u043e\u043c\u0435\u0440\u043e\u043c  ".concat(t," \u0432\u0436\u0435 \u0454 \u0432 \u0441\u043f\u0438\u0441\u043a\u0443")):l.Am.error("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u0421\u043f\u0440\u043e\u0431\u0443\u0439 \u0437\u043d\u043e\u0432\u0443..."),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(r){return e.apply(this,arguments)}}(),ie=function(){var e=P.toLowerCase();return n.filter((function(r){var n;return r.name.toLowerCase().includes(e)||(null===(n=r.number)||void 0===n?void 0:n.toLowerCase().startsWith(e))}))}(),se=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(r){var n,t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Z.ei)(r),console.log("materialsForOneOrder",n),t={user:ne.name,products:(0,Z.m7)(r),materials:(0,Z.Gx)(n)},e.prev=3,e.next=6,v.X6(t);case 6:localStorage.removeItem("selectedProducts"),l.Am.success("\u0414\u0435\u0442\u0430\u043b\u0456 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0434\u043e\u0434\u0430\u043d\u0456 \u0432 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043d\u0430 \u0440\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b\u0443."),re("/orders"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),l.Am.error("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u0421\u043f\u0440\u043e\u0431\u0443\u0439 \u0437\u043d\u043e\u0432\u0443...");case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(r){return e.apply(this,arguments)}}(),ue=A.reduce((function(e,r){var a=n.find((function(e){return e._id===r._id}));return a&&e.push((0,t.Z)((0,t.Z)({},a),{},{reserved:r.reserved})),e}),[]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(g.p,{children:[(0,j.jsxs)(d.Z,{sx:{width:"380px",borderRadius:4,display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",mt:10,mb:6,p:1,pt:3,backgroundColor:"#f5f5f5",boxShadow:"0 0 8px 0 rgba(0,0,0,.3)"},children:[(0,j.jsx)(h.Z,{variant:"contained",size:"large",startIcon:(0,j.jsx)(f.Z,{}),onClick:function(){X(!0)},sx:{width:"300px"},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438 \u0434\u0435\u0442\u0430\u043b\u044c"}),(0,j.jsx)(y,{value:P,onChange:function(e){var r=e.currentTarget.value;S(r)}}),(0,j.jsx)(p.Z,{variant:"h5",sx:{fontWeight:700},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0435\u0442\u0430\u043b\u0435\u0439"}),(0,j.jsxs)(d.Z,{children:[n.length>0&&(0,j.jsxs)(p.Z,{variant:"body1",align:"center",children:["\u0412\u0441\u044c\u043e\u0433\u043e \u0432 \u0431\u0430\u0437\u0456 - ",n.length," \u0434\u0435\u0442."]}),P&&(0,j.jsxs)(p.Z,{variant:"body1",align:"center",children:["\u0417\u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0437\u0431\u0456\u0433\u0456\u0432 - ",ie.length]})]}),_&&(0,j.jsx)(x.Z,{size:80,sx:{mt:"auto",mb:"auto"}}),n&&(0,j.jsx)(B,{products:ie,onSelectProduct:function(e){var r=n.find((function(r){return r._id===e})),t=r._id,a=r.name,o=r.number;A.some((function(e){return e._id===t}))?l.Am.warn("\u0414\u0435\u0442\u0430\u043b\u044c ".concat(a,"- ").concat(o," \u0432\u0436\u0435 \u0454 \u0432 \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f ")):(G(r),Y(!0))},location:ee})]}),(0,j.jsxs)(d.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"},borderRadius:4,flexDirection:"column",alignItems:"center",gap:"12px",mt:10,mb:6,p:1,backgroundColor:"#f5f5f5",boxShadow:"0 0 8px 0 rgba(0,0,0,.3)"},children:[(0,j.jsx)(L,{products:ue,onDeleteProductFromOrder:function(e){O((function(r){return r.filter((function(r){return r._id!==e}))}))}}),(0,j.jsx)(h.Z,{variant:"contained",size:"large",disabled:A.length<=0,onClick:function(){se(ue)},children:"\u0421\u0444\u043e\u0440\u043c\u0443\u0432\u0430\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"})]})]}),(0,j.jsx)(U.q,{open:J,onClose:te,children:(0,j.jsx)(b.o,{onSubmit:oe,onClose:te})}),(0,j.jsx)(M.c,{open:Q,onClose:ae,children:(0,j.jsx)(H,{onClose:ae,onSubmit:function(e,r){var n=(0,t.Z)((0,t.Z)({},r),{},{reserved:e});n.material?(O((function(e){return[].concat((0,a.Z)(e),[n])})),G(null)):l.Am.error("\u0412 \u0434\u0430\u0442\u0430\u043b\u0456 \u0449\u043e \u0432\u0438\u0431\u0440\u0430\u043b\u0438 \u043d\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b. \u0414\u043e\u0431\u0430\u0432\u0442\u0435 \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b \u0442\u0430 \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u043d\u043e\u0432\u0443.")},product:I})})]})}},9920:function(e,r,n){n.d(r,{$7:function(){return t}});var t=function(e){return e.materials.items}},7178:function(e,r,n){n.d(r,{H:function(){return s},Lw:function(){return l},X6:function(){return u},cV:function(){return c},zN:function(){return i}});var t=n(4165),a=n(5861),o=n(1243);o.Z.defaults.baseURL="https://technology-backend.onrender.com/api";var i=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var r,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/orders");case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/orders/".concat(r));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.post("/orders",r);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),c=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.delete("/orders/".concat(r));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.patch("/orders/".concat(r));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},2002:function(e,r,n){n.d(r,{C5:function(){return i},Tu:function(){return s},ZD:function(){return l},Zc:function(){return c},s2:function(){return u}});var t=n(4165),a=n(5861),o=n(1243);o.Z.defaults.baseURL="https://technology-backend.onrender.com/api";var i=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var r,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/products");case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/products/".concat(r));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.post("/products",r);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),c=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.delete("/products/".concat(r));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r,n){var a,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.put("/products/".concat(r),n);case 2:return a=e.sent,i=a.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}()},838:function(e,r,n){function t(e){return new Date(e).toLocaleDateString("uk-UA")}n.d(r,{p:function(){return t}})},2654:function(e,r,n){function t(e){return new Date(e).toLocaleTimeString("uk-UA",{hours:!1})}n.d(r,{m:function(){return t}})},3614:function(e,r,n){function t(e,r){return 0===r?1/0:"sheet"===e.type?(e.weight/r).toFixed(3):"rod"===e.type?(6*e.weight/r).toFixed(3):void 0}n.d(r,{s:function(){return t}})},1142:function(e,r,n){n.d(r,{p6:function(){return o.p},mr:function(){return i.m},ei:function(){return a},Gx:function(){return u},m7:function(){return s}});var t=n(1413);function a(e){var r=function(e){return e.map((function(e){return e.material})).reduce((function(e,r){return e.some((function(e){return e._id===r._id}))||e.push((0,t.Z)({},r)),e}),[])}(e);return r.map((function(r){var n=e.reduce((function(e,n){return r._id===n.material._id&&(e+=1/n.quantity*n.reserved),e}),0);return(0,t.Z)((0,t.Z)({},r),{},{amount:n.toFixed(3)})}))}n(8055),n(4412);var o=n(838),i=n(2654);function s(e){return e.map((function(e){return{name:e.name,number:e.number,reserved:e.reserved}}))}function u(e){return e.map((function(e){var r=e.brand,n=e.type,t=e.weight,a=e.amount,o=e.sheetParameters,i=e.rodParameters,s=null;return"sheet"===n&&(s={brand:r,type:n,sheetParameters:o,weight:t,amount:a}),"rod"===n&&(s={brand:r,type:n,rodParameters:i,weight:t,amount:a}),s}))}}}]);
//# sourceMappingURL=50.2a706272.chunk.js.map