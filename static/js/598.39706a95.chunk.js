"use strict";(self.webpackChunktechnology=self.webpackChunktechnology||[]).push([[598],{3598:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var r=n(3433),i=n(4165),s=n(5861),h=n(9439),c=n(2791),u=n(1614),a=n(5984),o=[{id:"1",sizeSheet:"2500x1250 \u041e\u0446.",thicknessSheet:"0.8",weightSheet:20.8},{id:"2",sizeSheet:"2500x1250 \u041e\u0446.",thicknessSheet:"1.0",weightSheet:26},{id:"3",sizeSheet:"2500x1250 \u041e\u0446.",thicknessSheet:"1.2",weightSheet:31.2},{id:"4",sizeSheet:"2500x1250 \u041e\u0446.",thicknessSheet:"1.5",weightSheet:39},{id:"5",sizeSheet:"2500x1250 \u041e\u0446.",thicknessSheet:"2.0",weightSheet:52},{id:"6",sizeSheet:"2500x1250 \u041e\u0446.",thicknessSheet:"2.5",weightSheet:65},{id:"7",sizeSheet:"2500x1250 \u041e\u0446.",thicknessSheet:"3.0",weightSheet:78},{id:"8",sizeSheet:"2500x1250 \u0421\u04423.",thicknessSheet:"0.8",weightSheet:20.8},{id:"9",sizeSheet:"2500x1250 \u0421\u04423.",thicknessSheet:"1.0",weightSheet:26},{id:"10",sizeSheet:"2500x1250 \u0421\u04423.",thicknessSheet:"1.2",weightSheet:31.2},{id:"11",sizeSheet:"2500x1250 \u0421\u04423.",thicknessSheet:"1.5",weightSheet:39},{id:"12",sizeSheet:"2500x1250 \u0421\u04423.",thicknessSheet:"2.0",weightSheet:52},{id:"13",sizeSheet:"2500x1250 \u0421\u04423.",thicknessSheet:"2.5",weightSheet:65},{id:"14",sizeSheet:"2500x1250 \u0421\u04423.",thicknessSheet:"3.0",weightSheet:78},{id:"15",sizeSheet:"2500x1250 AISI 430",thicknessSheet:"0.8",weightSheet:20},{id:"16",sizeSheet:"2500x1250 AISI 430",thicknessSheet:"1.0",weightSheet:25},{id:"17",sizeSheet:"2500x1250 AISI 430",thicknessSheet:"1.2",weightSheet:30},{id:"18",sizeSheet:"2500x1250 AISI 430",thicknessSheet:"1.5",weightSheet:37.5},{id:"19",sizeSheet:"2500x1250 AISI 430",thicknessSheet:"2.0",weightSheet:50},{id:"20",sizeSheet:"2500x1250 AISI 430",thicknessSheet:"2.5",weightSheet:62.5},{id:"21",sizeSheet:"2500x1250 AISI 430",thicknessSheet:"3.0",weightSheet:75},{id:"22",sizeSheet:"2500x1250 AISI 304",thicknessSheet:"0.8",weightSheet:20},{id:"23",sizeSheet:"2500x1250 AISI 304",thicknessSheet:"1.0",weightSheet:25},{id:"24",sizeSheet:"2500x1250 AISI 304",thicknessSheet:"1.2",weightSheet:30},{id:"25",sizeSheet:"2500x1250 AISI 304",thicknessSheet:"1.5",weightSheet:37.5},{id:"26",sizeSheet:"2500x1250 AISI 304",thicknessSheet:"2.0",weightSheet:50},{id:"27",sizeSheet:"2500x1250 AISI 304",thicknessSheet:"2.5",weightSheet:62.5},{id:"28",sizeSheet:"2500x1250 AISI 304",thicknessSheet:"3.0",weightSheet:75}],l=function(){return o},d=n(1243);d.Z.defaults.baseURL="https://technology-backend.onrender.com/api";var p,x,S=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.get("/products");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.post("/products",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.delete("/products/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=n(184),w="\u0414\u0456\u043b\u044c\u043d\u0438\u0446\u044f \u0437 \u0427\u041f\u0423",k="\u0428\u0442\u0430\u043c\u043f\u043e\u0432\u043e\u0447\u043d\u0430 \u0434\u0456\u043b\u044c\u043d\u0438\u0446\u044f",v=function(e){var t=e.onSubmit,n=e.onClose,r=(0,a.x0)(),i=(0,a.x0)(),s=(0,a.x0)(),h=(0,a.x0)(),c=l(),u=c.map((function(e){return e.sizeSheet})).filter((function(e,t,n){return n.indexOf(e)===t})),o=c.map((function(e){return e.thicknessSheet})).filter((function(e,t,n){return n.indexOf(e)===t}));return(0,g.jsxs)("form",{style:{display:" inline-grid"},onSubmit:function(e){e.preventDefault();var r=e.currentTarget,i=r.elements.name.value,s=r.elements.number.value,h=r.elements.weight.value,c=r.elements.quantity.value,u=r.elements.workshop.value,a=r.elements.thickness.value,o=r.elements.sheet.value;t({name:i,number:s,weight:h,quantity:c,workshop:u,thickness:a,sheet:o}),n(),r.reset()},children:[(0,g.jsx)("label",{htmlFor:r,children:"\u041d\u0430\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f"}),(0,g.jsx)("input",{type:"text",name:"name",id:r}),(0,g.jsx)("label",{htmlFor:i,children:"\u0414\u0435\u0446\u0438\u043c\u0430\u043b\u044c\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440"}),(0,g.jsx)("input",{type:"text",name:"number",id:i}),(0,g.jsx)("label",{htmlFor:h,children:"\u0412\u0430\u0433\u0430 \u0434\u0435\u0442\u0430\u043b\u0456, \u043a\u0433."}),(0,g.jsx)("input",{type:"number",name:"weight",min:"0",step:"0.001",id:h}),(0,g.jsx)("label",{htmlFor:s,children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u0437 \u043b\u0438\u0441\u0442\u0430, \u0448\u0442."}),(0,g.jsx)("input",{type:"number",name:"quantity",min:"1",id:s}),(0,g.jsx)("p",{children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0432\u0438\u0440\u043e\u0431\u043d\u0438\u0447\u0443 \u0434\u0456\u043b\u044c\u043d\u0438\u0446\u044e"}),(0,g.jsxs)("label",{children:["\u0427\u041f\u0423",(0,g.jsx)("input",{type:"radio",checked:!0,name:"workshop",value:w})]}),(0,g.jsxs)("label",{children:["\u0428\u0442\u0430\u043c\u043f\u043e\u0432\u043a\u0430",(0,g.jsx)("input",{type:"radio",name:"workshop",value:k})]}),(0,g.jsxs)("label",{children:["\u0422\u043e\u0432\u0449\u0438\u043d\u0430 \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b\u0443:",(0,g.jsx)("select",{name:"thickness",children:o.map((function(e){return(0,g.jsxs)("option",{value:e,children:[e," \u043c\u043c."]},(0,a.x0)())}))})]}),(0,g.jsxs)("label",{children:["\u0420\u043e\u0437\u043c\u0456\u0440 \u043b\u0438\u0441\u0442\u0430 \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b\u0443:",(0,g.jsx)("select",{name:"sheet",children:u.map((function(e){return(0,g.jsx)("option",{value:e,children:e},(0,a.x0)())}))})]}),(0,g.jsx)("button",{type:"submit",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0434\u0435\u0442\u0430\u043b\u044c \u0434\u043e \u0441\u043f\u0438\u0441\u043a\u0443"})]})},b=function(e){var t=e.value,n=e.onChange;return(0,g.jsx)("div",{children:(0,g.jsx)("input",{type:"text",name:"filter",value:t,onChange:n})})},j=function(e){var t=e.id,n=e.name,r=e.number,i=e.onDeleteProduct;e.onSelectProduct;return(0,g.jsxs)("li",{onFocus:function(){return console.log(t)},style:{cursor:"pointer"},children:[(0,g.jsxs)("p",{children:[n," - ",r]}),(0,g.jsx)("button",{type:"button",onClick:function(){return i(t)},children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"}),(0,g.jsx)("button",{type:"button",children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"})]})},y=n(8873),Z=function(e){var t=e.products,n=e.onDeleteProduct,r=e.onSelectProduct;return(0,g.jsx)(y.Z,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper",position:"relative",overflow:"auto",maxHeight:"75vh","& ul":{padding:0}},children:t.map((function(e){var t=e._id,i=e.name,s=e.number;return(0,g.jsx)(j,{id:t,name:i,number:s,onDeleteProduct:n,onSelectProduct:r},t)}))})},z=n(4164),I=n(168),A=n(9104),C=A.Z.div(p||(p=(0,I.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n"]))),P=A.Z.div(x||(x=(0,I.Z)(["\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  max-height: 450px;\n  height: 100%;\n\n  max-width: 450px;\n  width: 100%;\n  background-color: #fff;\n  box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.12), 0px 1px 1px rgba(0, 0, 0, 0.14),\n    0px 2px 1px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n  border: 2px solid #fff;\n"]))),q=document.querySelector("#modal-root"),F=function(e){var t=e.children,n=e.onClose;return(0,z.createPortal)((0,g.jsx)(C,{onClick:function(e){e.target===e.currentTarget&&n()},children:(0,g.jsx)(P,{children:t})}),q)},D=function(){var e=(0,c.useState)([]),t=(0,h.Z)(e,2),n=t[0],a=t[1],o=(0,c.useState)(""),l=(0,h.Z)(o,2),d=l[0],p=l[1],x=(0,c.useState)(!1),w=(0,h.Z)(x,2),k=w[0],j=w[1],y=function(){j(!1)};(0,c.useEffect)((function(){function e(){return(e=(0,s.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:t=e.sent,n=t.data,a(n.products),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var z=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){var n,s,h,c,u,o,l,d,p,x;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,s=t.number,h=t.weight,c=t.quantity,u=t.workshop,o=t.thickness,l=t.sheet,d={name:n,number:s,weight:h,quantity:c,workshop:u,material:{thickness:o,sheet:l}},e.prev=2,e.next=5,f(d);case 5:p=e.sent,x=p.data,a((function(e){return[x.product].concat((0,r.Z)(e))})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}}),e,null,[[2,10,12,14]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(t);case 3:n=e.sent,a((function(e){return e.filter((function(e){return e._id!==n.id}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.mesage);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=d.toLowerCase();return n.filter((function(t){return t.name.toLowerCase().includes(e)||t.number.startsWith(e)}))}();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(u.Z,{maxWidth:"sm",children:[(0,g.jsx)("button",{type:"button",onClick:function(){j(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438 \u0434\u0435\u0442\u0430\u043b\u044c \u0434\u043e \u0441\u043f\u0438\u0441\u043a\u0443"}),(0,g.jsx)("p",{children:"\u0442\u0443\u0442 \u0431\u0443\u0434\u0435 \u043b\u0438\u0441\u0442 \u0437 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0456\u0454\u044e"}),(0,g.jsx)(b,{value:d,onChange:function(e){var t=e.currentTarget.value;p(t)}}),(0,g.jsx)(Z,{products:A,onDeleteProduct:I})]}),k&&(0,g.jsx)(F,{onClose:y,children:(0,g.jsx)(v,{onSubmit:z,onClose:y})})]})}}}]);
//# sourceMappingURL=598.39706a95.chunk.js.map