"use strict";(self.webpackChunktechnology=self.webpackChunktechnology||[]).push([[822],{7234:function(e,n,r){r.d(n,{y:function(){return o}});var t=r(2791),c=r(890),a=r(8870),i=r(6151),s=r(184),o=function(e){var n=e.onDelete,r=e.onClose,o=e.title,u=(0,t.useRef)();return(0,t.useEffect)((function(){u.current.focus({focusVisible:!0})}),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{variant:"h6",component:"p",align:"center",sx:{mb:2},children:o}),(0,s.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-evenly"},children:[(0,s.jsx)(i.Z,{variant:"contained",size:"small",onClick:function(){return n()},children:"\u0422\u0430\u043a"}),(0,s.jsx)(i.Z,{ref:u,variant:"contained",size:"small",onClick:function(){return r()},children:"Hi"})]})]})}},8463:function(e,n,r){r.d(n,{c:function(){return i}});var t=r(7004),c=r(8870),a=r(184),i=function(e){var n=e.open,r=e.onClose,i=e.children;return(0,a.jsx)(t.Z,{open:n,onClose:r,disableRestoreFocus:!0,children:(0,a.jsx)(c.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"460px",bgcolor:"#fff",borderRadius:2,boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.12), 0px 1px 1px rgba(0, 0, 0, 0.14),  0px 2px 1px rgba(0, 0, 0, 0.2)",p:4},children:i})})}},7044:function(e,n,r){r.d(n,{p:function(){return a}});var t=r(9164),c=r(184),a=function(e){var n=e.children;return(0,c.jsx)(t.Z,{maxWidth:"xl",sx:{display:"flex",gap:2,height:"100vh"},children:n})}},5822:function(e,n,r){r.r(n),r.d(n,{default:function(){return L}});var t=r(1413),c=r(4165),a=r(5861),i=r(9439),s=r(2791),o=r(5206),u=r(7689),l=r(8870),d=r(7178),p=r(7044),f=r(3433),x=r(1087),h=r(9281),m=r(5527),Z=r(9836),v=r(6890),j=r(5855),g=r(8745),b=r(3382),w=r(890),y=r(3400),k=r(4454),C=r(8014),z=r(383),A=r(5984),D=r(901),F=r(4717),S=r(184),P=function(e){var n=e.orders,r=e.location,t=e.openModal,c=e.updateToDeleteOrder,a=(0,F.a)().user,i=n.reduce((function(e,n){return[n].concat((0,f.Z)(e))}),[]);return(0,S.jsx)(h.Z,{component:m.Z,children:(0,S.jsxs)(Z.Z,{size:"small",children:[(0,S.jsx)(v.Z,{children:(0,S.jsxs)(j.Z,{sx:{position:"sticky",top:0,zIndex:1,background:"#fff"},children:[(0,S.jsx)(g.Z,{align:"center",children:" \u2116 \u043f.\u043f "}),(0,S.jsx)(g.Z,{align:"center",children:" \u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447, \u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 "}),(0,S.jsx)(g.Z,{align:"center",children:"\u041d\u0430\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u0442\u0430 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u0432 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u0456"}),(0,S.jsx)(g.Z,{align:"center",children:"\u0421\u043e\u0440\u0442\u0430\u043c\u0435\u043d\u0442 \u0442\u0430 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e\u0433\u043e \u043c\u0435\u0442\u0430\u043b\u0443 \u0434\u043b\u044f \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,S.jsx)(g.Z,{align:"center",children:"\u0414\u0440\u0443\u043a\u0443\u0432\u0430\u0442\u0438"}),(0,S.jsx)(g.Z,{align:"center",children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"}),(0,S.jsx)(g.Z,{align:"center",children:"\u041d\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"})]})}),(0,S.jsx)(b.Z,{children:i.map((function(e,n){var i=e._id,s=e.user,o=e.createdAt,u=e.products,d=e.materials,p=e.toRemove;return(0,S.jsxs)(j.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,S.jsx)(g.Z,{align:"center",children:n+1}),(0,S.jsx)(g.Z,{aling:"center",children:(0,S.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",gap:"4px"},children:[(0,S.jsx)(w.Z,{variant:"p",sx:{fontWeight:500},children:s}),(0,S.jsx)(w.Z,{variant:"p",children:(0,D.p6)(o)}),(0,S.jsx)(w.Z,{variant:"p",children:(0,D.mr)(o)})]})}),(0,S.jsx)(g.Z,{aling:"center",sx:{verticalAlign:"top"},children:u.map((function(e,n){var r=e.name,t=e.number,c=e.reserved;return(0,S.jsxs)(l.Z,{sx:{mb:1},children:[(0,S.jsxs)(w.Z,{variant:"p",children:[n+1,". ",r," ",t," "]}),(0,S.jsxs)(w.Z,{variant:"p",sx:{fontWeight:500},children:["- ",c," \u0448\u0442."]})]},(0,A.x0)())}))}),(0,S.jsx)(g.Z,{aling:"center",sx:{verticalAlign:"top"},children:(0,S.jsxs)(S.Fragment,{children:[d.map((function(e,n){var r=e.type,t=e.brand,c=e.amount,a=e.weight;return(0,S.jsx)(l.Z,{sx:{mb:1},children:(0,S.jsxs)(w.Z,{variant:"p",children:[n+1,".","sheet"===r&&(0,S.jsxs)(S.Fragment,{children:[" ",(0,S.jsxs)(w.Z,{component:"span",children:[" ","\u041b\u0438\u0441\u0442 ",t," ",e.sheetParameters.thickness.toFixed(1),"x",e.sheetParameters.length,"x",e.sheetParameters.width]})," ",(0,S.jsxs)(w.Z,{component:"span",sx:{fontWeight:500},children:["(",a," \u043a\u0433.)"]})," ",(0,S.jsxs)(w.Z,{component:"span",sx:{fontWeight:500},children:["- ",c.toFixed(3)," \u043b\u0438\u0441\u0442\u0456\u0432"]})]}),"rod"===r&&(0,S.jsxs)(S.Fragment,{children:[" ",(0,S.jsxs)(w.Z,{component:"span",children:[" ","\u041a\u0440\u0443\u0433 ",t," ",e.rodParameters.diameter.toFixed(1)]})," ",(0,S.jsxs)(w.Z,{component:"span",sx:{fontWeight:500},children:["(",a," \u043a\u0433.)"]})," ",(0,S.jsxs)(w.Z,{component:"span",sx:{fontWeight:500},children:["- ",c.toFixed(3)," \u043c.\u043f."]})]})]})},(0,A.x0)())})),(0,S.jsxs)(w.Z,{variant:"p",sx:{fontWeight:700,ml:2},children:["\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0433\u0430: ",(0,D.zq)(d)," \u043a\u0433"]})]})}),(0,S.jsx)(g.Z,{align:"center",children:(0,S.jsx)(y.Z,{component:x.rU,to:"/orders/".concat(i),state:{from:r},sx:{color:"#1976d2"},"aria-label":"print order",size:"medium",children:(0,S.jsx)(C.Z,{fontSize:"medium"})})}),(0,S.jsx)(g.Z,{align:"center",children:(0,S.jsx)(y.Z,{sx:{color:"#1976d2"},"aria-label":"delete order",size:"medium",onClick:function(){return t(i)},disabled:"ADMIN"!==a.role,children:(0,S.jsx)(z.Z,{fontSize:"medium"})})}),(0,S.jsx)(g.Z,{align:"center",children:(0,S.jsx)(k.Z,{inputProps:{"aria-label":"Checkbox demo"},checked:p,onChange:function(){c(i)},sx:{color:"#1976d2","&.Mui-checked":{color:"#DC143C"}}})})]},i)}))})]})})},R=r(8463),W=r(7234),_=r(2881),L=function(){var e=(0,s.useState)([]),n=(0,i.Z)(e,2),r=n[0],f=n[1],x=(0,s.useState)(!1),h=(0,i.Z)(x,2),m=h[0],Z=h[1],v=(0,s.useState)(!1),j=(0,i.Z)(v,2),g=j[0],b=j[1],w=(0,s.useState)(null),y=(0,i.Z)(w,2),k=y[0],C=y[1],z=(0,u.TH)();(0,s.useEffect)((function(){function e(){return(e=(0,a.Z)((0,c.Z)().mark((function e(){var n,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(!0),e.next=4,d.zN();case 4:n=e.sent,r=n.data,f(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o.Am.error("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u0421\u043f\u0440\u043e\u0431\u0443\u0439 \u0437\u043d\u043e\u0432\u0443...");case 12:return e.prev=12,Z(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var A=function(){b(!1)},D=function(){var e=(0,a.Z)((0,c.Z)().mark((function e(n){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(!0),e.next=4,d.cV(n);case 4:f((function(e){return e.filter((function(e){return e._id!==n}))})),o.Am.success("\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0435"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),o.Am.error("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u0421\u043f\u0440\u043e\u0431\u0443\u0439 \u0437\u043d\u043e\u0432\u0443..."),Z(!1);case 12:return e.prev=12,Z(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(n){return e.apply(this,arguments)}}(),F=function(){var e=(0,a.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(k);case 2:C(null),A();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,a.Z)((0,c.Z)().mark((function e(n){var r,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Lw(n);case 3:r=e.sent,a=r.data,f((function(e){return e.map((function(e){return e._id===n?(0,t.Z)((0,t.Z)({},e),{},{toRemove:!e.toRemove}):e}))})),a.toRemove?o.Am.success('\u0414\u043e\u0434\u0430\u043d\u043e \u0434\u043e \u0441\u043f\u0438\u0441\u043a\u0443 "\u041d\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"'):o.Am.success('\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043e \u0437\u0456 \u0441\u043f\u0438\u0441\u043a\u0443 "\u041d\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"'),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o.Am.error("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u0421\u043f\u0440\u043e\u0431\u0443\u0439 \u0437\u043d\u043e\u0432\u0443...");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}();return(0,S.jsxs)(S.Fragment,{children:[m&&(0,S.jsx)(_.a,{}),(0,S.jsx)(p.p,{children:(0,S.jsx)(l.Z,{sx:{width:"100%",borderRadius:4,display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",mt:10,mb:6,p:1,backgroundColor:"#f5f5f5",boxShadow:"0 0 8px 0 rgba(0,0,0,.3)"},children:(0,S.jsx)(P,{orders:r,location:z,openModal:function(e){b(!0),C(e)},updateToDeleteOrder:L})})}),(0,S.jsx)(R.c,{open:g,onClose:A,children:(0,S.jsx)(W.y,{title:"\u0411\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f?",onDelete:F,onClose:A})})]})}},7178:function(e,n,r){r.d(n,{H:function(){return s},Lw:function(){return l},X6:function(){return o},cV:function(){return u},zN:function(){return i}});var t=r(4165),c=r(5861),a=r(1243);a.Z.defaults.baseURL="https://technology-backend.onrender.com/api";var i=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get("/orders");case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){var r,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get("/orders/".concat(n));case 2:return r=e.sent,c=r.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),o=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){var r,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.post("/orders",n);case 2:return r=e.sent,c=r.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){var r,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.delete("/orders/".concat(n));case 2:return r=e.sent,c=r.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(n){var r,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.patch("/orders/".concat(n));case 2:return r=e.sent,c=r.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},901:function(e,n,r){r.d(n,{p6:function(){return a},mr:function(){return i},ei:function(){return c},zq:function(){return u},Gx:function(){return o},m7:function(){return s}});var t=r(1413);function c(e){var n=function(e){return e.map((function(e){return e.material})).reduce((function(e,n){return e.some((function(e){return e._id===n._id}))||e.push((0,t.Z)({},n)),e}),[])}(e);return n.map((function(n){var r,c=null;return"sheet"===n.type&&(c=e.reduce((function(e,r){return n._id===r.material._id&&(e+=1/r.quantity*r.reserved),e}),0)),"rod"===n.type&&(c=e.reduce((function(e,r){return n._id===r.material._id&&(e+=6/r.quantity*r.reserved),e}),0)),(0,t.Z)((0,t.Z)({},n),{},{amount:null===(r=c)||void 0===r?void 0:r.toFixed(3)})}))}r(8055),r(4412);function a(e){return new Date(e).toLocaleDateString("uk-UA")}function i(e){return new Date(e).toLocaleTimeString("uk-UA",{hours:!1})}function s(e){return e.map((function(e){return{name:e.name,number:e.number,reserved:e.reserved}}))}function o(e){return e.map((function(e){var n=e.brand,r=e.type,t=e.weight,c=e.amount,a=e.sheetParameters,i=e.rodParameters,s=null;return"sheet"===r&&(s={brand:n,type:r,sheetParameters:a,weight:t,amount:c}),"rod"===r&&(s={brand:n,type:r,rodParameters:i,weight:t,amount:c}),s}))}var u=function(e){return e.reduce((function(e,n){return e+=n.amount*n.weight}),0)}}}]);
//# sourceMappingURL=822.65cd6a60.chunk.js.map