"use strict";(self.webpackChunktechnology=self.webpackChunktechnology||[]).push([[822],{7234:function(n,e,r){r.d(e,{y:function(){return s}});var t=r(2791),c=r(890),a=r(8870),i=r(6151),u=r(184),s=function(n){var e=n.onDelete,r=n.onClose,s=n.title,o=(0,t.useRef)();return(0,t.useEffect)((function(){o.current.focus({focusVisible:!0})}),[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.Z,{variant:"h6",component:"p",align:"center",sx:{mb:2},children:s}),(0,u.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-evenly"},children:[(0,u.jsx)(i.Z,{variant:"contained",size:"small",onClick:function(){return e()},children:"\u0422\u0430\u043a"}),(0,u.jsx)(i.Z,{ref:o,variant:"contained",size:"small",onClick:function(){return r()},children:"Hi"})]})]})}},8463:function(n,e,r){r.d(e,{c:function(){return i}});var t=r(7004),c=r(8870),a=r(184),i=function(n){var e=n.open,r=n.onClose,i=n.children;return(0,a.jsx)(t.Z,{open:e,onClose:r,disableRestoreFocus:!0,children:(0,a.jsx)(c.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"460px",bgcolor:"#fff",borderRadius:2,boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.12), 0px 1px 1px rgba(0, 0, 0, 0.14),  0px 2px 1px rgba(0, 0, 0, 0.2)",p:4},children:i})})}},7044:function(n,e,r){r.d(e,{p:function(){return a}});var t=r(9164),c=r(184),a=function(n){var e=n.children;return(0,c.jsx)(t.Z,{maxWidth:"xl",sx:{display:"flex",gap:2,height:"100vh"},children:e})}},5822:function(n,e,r){r.r(e),r.d(e,{default:function(){return P}});var t=r(1413),c=r(4165),a=r(5861),i=r(9439),u=r(2791),s=r(5206),o=r(7689),l=r(8870),d=r(7178),f=r(7044),p=r(3433),x=r(1087),h=r(9281),Z=r(5527),m=r(9836),v=r(6890),j=r(5855),g=r(8745),b=r(3382),w=r(890),k=r(3400),y=r(4454),C=r(8014),A=r(383),D=r(5984),z=r(1142),S=r(4717),R=r(184),_=function(n){var e=n.orders,r=n.location,t=n.openModal,c=n.updateToDeleteOrder,a=(0,S.a)().user,i=e.reduce((function(n,e){return[e].concat((0,p.Z)(n))}),[]);return(0,R.jsx)(h.Z,{component:Z.Z,children:(0,R.jsxs)(m.Z,{size:"small",children:[(0,R.jsx)(v.Z,{children:(0,R.jsxs)(j.Z,{sx:{position:"sticky",top:0,zIndex:1,background:"#fff"},children:[(0,R.jsx)(g.Z,{align:"center",children:" \u2116 \u043f.\u043f "}),(0,R.jsx)(g.Z,{align:"center",children:" \u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447, \u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 "}),(0,R.jsx)(g.Z,{align:"center",children:"\u041d\u0430\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u0442\u0430 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u0432 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u0456"}),(0,R.jsx)(g.Z,{align:"center",children:"\u0421\u043e\u0440\u0442\u0430\u043c\u0435\u043d\u0442 \u0442\u0430 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e\u0433\u043e \u043c\u0435\u0442\u0430\u043b\u0443 \u0434\u043b\u044f \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,R.jsx)(g.Z,{align:"center",children:"\u0414\u0440\u0443\u043a\u0443\u0432\u0430\u0442\u0438"}),(0,R.jsx)(g.Z,{align:"center",children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"}),(0,R.jsx)(g.Z,{align:"center",children:"\u041d\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"})]})}),(0,R.jsx)(b.Z,{children:i.map((function(n,e){var i=n._id,u=n.user,s=n.createdAt,o=n.products,d=n.materials,f=n.toRemove;return(0,R.jsxs)(j.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,R.jsx)(g.Z,{align:"center",children:e+1}),(0,R.jsx)(g.Z,{aling:"center",children:(0,R.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",gap:"4px"},children:[(0,R.jsx)(w.Z,{variant:"p",sx:{fontWeight:500},children:u}),(0,R.jsx)(w.Z,{variant:"p",children:(0,z.p6)(s)}),(0,R.jsx)(w.Z,{variant:"p",children:(0,z.mr)(s)})]})}),(0,R.jsx)(g.Z,{aling:"center",sx:{verticalAlign:"top"},children:o.map((function(n,e){var r=n.name,t=n.number,c=n.reserved;return(0,R.jsxs)(l.Z,{sx:{mb:1},children:[(0,R.jsxs)(w.Z,{variant:"p",children:[e+1,". ",r," ",t," "]}),(0,R.jsxs)(w.Z,{variant:"p",sx:{fontWeight:500},children:["- ",c," \u0448\u0442."]})]},(0,D.x0)())}))}),(0,R.jsx)(g.Z,{aling:"center",sx:{verticalAlign:"top"},children:(0,R.jsxs)(R.Fragment,{children:[d.map((function(n,e){var r=n.sheet,t=n.thickness,c=n.amount;return(0,R.jsxs)(l.Z,{sx:{mb:1},children:[(0,R.jsxs)(w.Z,{variant:"p",children:[e+1,". ",t,"x",r," "]}),(0,R.jsxs)(w.Z,{variant:"p",sx:{fontWeight:500},children:["- ",c.toFixed(3)," \u043b\u0438\u0441\u0442\u0456\u0432."]})]},(0,D.x0)())})),(0,R.jsx)(w.Z,{variant:"p",sx:{fontWeight:700,ml:2},children:"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0433\u0430: \u043a\u0433"})]})}),(0,R.jsx)(g.Z,{align:"center",children:(0,R.jsx)(k.Z,{component:x.rU,to:"/orders/".concat(i),state:{from:r},sx:{color:"#1976d2"},"aria-label":"print order",size:"medium",children:(0,R.jsx)(C.Z,{fontSize:"medium"})})}),(0,R.jsx)(g.Z,{align:"center",children:(0,R.jsx)(k.Z,{sx:{color:"#1976d2"},"aria-label":"delete order",size:"medium",onClick:function(){return t(i)},disabled:"ADMIN"!==a.role,children:(0,R.jsx)(A.Z,{fontSize:"medium"})})}),(0,R.jsx)(g.Z,{align:"center",children:(0,R.jsx)(y.Z,{inputProps:{"aria-label":"Checkbox demo"},checked:f,onChange:function(){c(i)},sx:{color:"#1976d2","&.Mui-checked":{color:"#DC143C"}}})})]},i)}))})]})})},F=r(8463),W=r(7234),L=r(2881),P=function(){var n=(0,u.useState)([]),e=(0,i.Z)(n,2),r=e[0],p=e[1],x=(0,u.useState)(!1),h=(0,i.Z)(x,2),Z=h[0],m=h[1],v=(0,u.useState)(!1),j=(0,i.Z)(v,2),g=j[0],b=j[1],w=(0,u.useState)(null),k=(0,i.Z)(w,2),y=k[0],C=k[1],A=(0,o.TH)();(0,u.useEffect)((function(){function n(){return(n=(0,a.Z)((0,c.Z)().mark((function n(){var e,r;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,m(!0),n.next=4,d.zN();case 4:e=n.sent,r=e.data,p(r),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),s.Am.error("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u0421\u043f\u0440\u043e\u0431\u0443\u0439 \u0437\u043d\u043e\u0432\u0443...");case 12:return n.prev=12,m(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]);var D=function(){b(!1)},z=function(){var n=(0,a.Z)((0,c.Z)().mark((function n(e){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,m(!0),n.next=4,d.cV(e);case 4:p((function(n){return n.filter((function(n){return n._id!==e}))})),s.Am.success("\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0435"),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),s.Am.error("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u0421\u043f\u0440\u043e\u0431\u0443\u0439 \u0437\u043d\u043e\u0432\u0443..."),m(!1);case 12:return n.prev=12,m(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,8,12,15]])})));return function(e){return n.apply(this,arguments)}}(),S=function(){var n=(0,a.Z)((0,c.Z)().mark((function n(){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,z(y);case 2:C(null),D();case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),P=function(){var n=(0,a.Z)((0,c.Z)().mark((function n(e){var r,a;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.Lw(e);case 3:r=n.sent,a=r.data,p((function(n){return n.map((function(n){return n._id===e?(0,t.Z)((0,t.Z)({},n),{},{toRemove:!n.toRemove}):n}))})),a.toRemove?s.Am.success('\u0414\u043e\u0434\u0430\u043d\u043e \u0434\u043e \u0441\u043f\u0438\u0441\u043a\u0443 "\u041d\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"'):s.Am.success('\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043e \u0437\u0456 \u0441\u043f\u0438\u0441\u043a\u0443 "\u041d\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"'),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),s.Am.error("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u0421\u043f\u0440\u043e\u0431\u0443\u0439 \u0437\u043d\u043e\u0432\u0443...");case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}();return(0,R.jsxs)(R.Fragment,{children:[Z&&(0,R.jsx)(L.a,{}),(0,R.jsx)(f.p,{children:(0,R.jsx)(l.Z,{sx:{width:"100%",borderRadius:4,display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",mt:10,mb:6,p:1,backgroundColor:"#f5f5f5",boxShadow:"0 0 8px 0 rgba(0,0,0,.3)"},children:(0,R.jsx)(_,{orders:r,location:A,openModal:function(n){b(!0),C(n)},updateToDeleteOrder:P})})}),(0,R.jsx)(F.c,{open:g,onClose:D,children:(0,R.jsx)(W.y,{title:"\u0411\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f?",onDelete:S,onClose:D})})]})}},7178:function(n,e,r){r.d(e,{H:function(){return u},Lw:function(){return l},X6:function(){return s},cV:function(){return o},zN:function(){return i}});var t=r(4165),c=r(5861),a=r(1243);a.Z.defaults.baseURL="https://technology-backend.onrender.com/api";var i=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(){var e,r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.get("/orders");case 2:return e=n.sent,r=e.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),u=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(e){var r,c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.get("/orders/".concat(e));case 2:return r=n.sent,c=r.data,n.abrupt("return",c);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),s=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(e){var r,c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.post("/orders",e);case 2:return r=n.sent,c=r.data,n.abrupt("return",c);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),o=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(e){var r,c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.delete("/orders/".concat(e));case 2:return r=n.sent,c=r.data,n.abrupt("return",c);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,c.Z)((0,t.Z)().mark((function n(e){var r,c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.patch("/orders/".concat(e));case 2:return r=n.sent,c=r.data,n.abrupt("return",c);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},838:function(n,e,r){function t(n){return new Date(n).toLocaleDateString("uk-UA")}r.d(e,{p:function(){return t}})},2654:function(n,e,r){function t(n){return new Date(n).toLocaleTimeString("uk-UA",{hours:!1})}r.d(e,{m:function(){return t}})},1142:function(n,e,r){r.d(e,{p6:function(){return a.p},mr:function(){return i.m},ei:function(){return c},Gx:function(){return s},m7:function(){return u}});var t=r(1413);function c(n){var e=function(n){return n.map((function(n){return n.material})).reduce((function(n,e){return n.some((function(n){return n._id===e._id}))||n.push((0,t.Z)({},e)),n}),[])}(n);return e.map((function(e){var r=n.reduce((function(n,r){return e._id===r.material._id&&(n+=1/r.quantity*r.reserved),n}),0);return(0,t.Z)((0,t.Z)({},e),{},{amount:r.toFixed(3)})}))}r(8055),r(4412);var a=r(838),i=r(2654);function u(n){return n.map((function(n){return{name:n.name,number:n.number,reserved:n.reserved}}))}function s(n){return n.map((function(n){var e=n.brand,r=n.type,t=n.weight,c=n.amount,a=n.sheetParameters,i=n.rodParameters,u=null;return"sheet"===r&&(u={brand:e,type:r,sheetParameters:a,weight:t,amount:c}),"rod"===r&&(u={brand:e,type:r,rodParameters:i,weight:t,amount:c}),u}))}}}]);
//# sourceMappingURL=822.8a5308cb.chunk.js.map